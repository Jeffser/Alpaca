<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <requires lib="gtk" version="4.0"/>
  <requires lib="Adw" version="1.0"/>
  <template class="AlpacaWindow" parent="AdwApplicationWindow">
    <signal name="close-request" handler="closing_app"/>
    <property name="resizable">True</property>
    <property name="width-request">360</property>
    <property name="height-request">240</property>
    <property name="default-width">1300</property>
    <property name="default-height">800</property>
    <property name="title">Alpaca</property>
    <child>
      <object class="AdwBreakpoint">
        <condition>max-width: 690sp</condition>
        <setter object="split_view_overlay" property="collapsed">true</setter>
        <setter object="model_manager_header_bar" property="title-widget"/>
        <setter object="model_manager_bottom_view_switcher" property="reveal">true</setter>
        <setter object="available_model_flowbox" property="min-children-per-line">1</setter>
        <setter object="local_model_flowbox" property="max-children-per-line">2</setter>
      </object>
    </child>
    <property name="content">
      <object class="AdwNavigationView" id="main_navigation_view">
        <child>
          <object class="AdwNavigationPage">
            <property name="title" translatable="yes">Welcome</property>
            <property name="tag">welcome</property>
            <property name="child">
              <object class="AdwToolbarView">
                <child type="top">
                  <object class="AdwHeaderBar"/>
                </child>
                <child type="bottom">
                  <object class="GtkActionBar">
                    <child type="start">
                      <object class="GtkButton" id="welcome_previous_button">
                        <signal name="clicked" handler="welcome_previous_button_activate"/>
                        <property name="tooltip-text" translatable="yes">Previous</property>
                        <property name="label" translatable="yes">Previous</property>
                        <property name="sensitive">false</property>
                        <style>
                          <class name="raised"/>
                        </style>
                      </object>
                    </child>
                    <child type="center">
                      <object class="AdwCarouselIndicatorDots">
                        <property name="carousel">welcome_carousel</property>
                      </object>
                    </child>
                    <child type="end">
                      <object class="GtkButton" id="welcome_next_button">
                        <signal name="clicked" handler="welcome_next_button_activate"/>
                        <property name="tooltip-text" translatable="yes">Next</property>
                        <property name="label" translatable="yes">Next</property>
                        <style>
                          <class name="suggested-action"/>
                        </style>
                      </object>
                    </child>
                  </object>
                </child>
                <child>
                  <object class="AdwCarousel" id="welcome_carousel">
                    <signal name="page-changed" handler="welcome_carousel_page_changed"/>
                    <property name="hexpand">true</property>
                    <property name="vexpand">true</property>
                    <property name="allow-long-swipes">true</property>
                    <property name="allow-scroll-wheel">true</property>
                    <property name="spacing">12</property>
                    <child>
                      <object class="AdwStatusPage">
                        <property name="icon-name">com.jeffser.Alpaca</property>
                        <property name="title" translatable="yes">Welcome to Alpaca</property>
                        <property name="description" translatable="yes">Powering your potential</property>
                        <property name="hexpand">true</property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwStatusPage">
                        <property name="icon-name">dialog-warning-symbolic</property>
                        <property name="title" translatable="yes">Disclaimer</property>
                        <property name="description" translatable="yes">Alpaca and its developers are not liable for any damages to devices or software resulting from the execution of code generated by an AI model. Please exercise caution and review the code carefully before running it.

Alpaca is distributed under GPL v3.0, this software comes with no warranty.</property>
                        <property name="hexpand">true</property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwStatusPage">
                        <property name="icon-name">terminal-symbolic</property>
                        <property name="title" translatable="yes">Effortless Code Execution</property>
                        <property name="description" translatable="yes">Alpaca can run Python, C++, and even HTML (with a live server) right from your conversations. Give it a try!</property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwStatusPage">
                        <property name="icon-name">padlock2-symbolic</property>
                        <property name="title" translatable="yes">Private by Design</property>
                        <property name="description" translatable="yes">With Alpaca, your conversations are saved locally on your device, so you can be confident that your data is always secure and private.</property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwStatusPage">
                        <property name="icon-name">processor-symbolic</property>
                        <property name="title" translatable="yes">Local AI</property>
                        <property name="description" translatable="yes">Alpaca works with AI providers such as Gemini and ChatGPT.  To run AI models locally on your machine, you'll need to install Ollama within Alpaca. We've made it super easy to do, so you can get started quickly!</property>
                        <property name="child">
                          <object class="GtkButton" id="install_ollama_button">
                            <signal name="clicked" handler="link_button_handler"/>
                            <property name="name">https://github.com/Jeffser/Alpaca/wiki/Installing-Ollama</property>
                            <property name="label" translatable="yes">Install Ollama</property>
                            <property name="tooltip-text" translatable="yes">Install Ollama</property>
                            <property name="halign">3</property>
                            <style>
                              <class name="suggested-action"/>
                              <class name="pill"/>
                            </style>
                          </object>
                        </property>
                      </object>
                    </child>
                  </object>
                </child>
              </object>
            </property>
          </object>
        </child>
        <child>
          <object class="AdwNavigationPage">
            <property name="title">Alpaca</property>
            <property name="tag">chat</property>
            <property name="child">
              <object class="AdwOverlaySplitView" id="split_view_overlay">
                <property name="show-sidebar" bind-source="show_sidebar_button" bind-property="active" bind-flags="sync-create"/>
                <property name="sidebar-width-fraction">0.3</property>
                <property name="enable-hide-gesture">true</property>
                <property name="enable-show-gesture">true</property>
                <property name="sidebar">
                  <object class="AdwToolbarView">
                    <child type="top">
                      <object class="AdwHeaderBar">
                        <child type="start">
                          <!--<object class="AdwSplitButton">
                            <property name="action-name">app.new_chat</property>
                            <property name="tooltip-text" translatable="yes">New Chat</property>
                            <property name="icon-name">chat-message-new-symbolic</property>
                            <property name="menu-model">new_chat_menu</property>
                            <style>
                              <class name="flat"/>
                            </style>
                          </object>-->
                          <object class="GtkButton">
                            <property name="action-name">app.new_chat</property>
                            <property name="tooltip-text" translatable="yes">New Chat</property>
                            <property name="icon-name">chat-message-new-symbolic</property>
                            <style>
                              <class name="flat"/>
                            </style>
                          </object>
                        </child>
                        <child type="end">
                          <object class="GtkMenuButton">
                            <property name="primary">True</property>
                            <property name="icon-name">open-menu-symbolic</property>
                            <property name="tooltip-text" translatable="yes">Menu</property>
                            <property name="menu-model">primary_menu</property>
                          </object>
                        </child>
                        <child type="end">
                          <object class="GtkToggleButton" id="chat_search_button">
                            <property name="icon-name">edit-find-symbolic</property>
                            <property name="tooltip-text" translatable="yes">Search Chats</property>
                            <property name="active" bind-source="chat_searchbar" bind-property="search-mode-enabled" bind-flags="sync-create"/>
                          </object>
                        </child>
                      </object>
                    </child>
                    <child type="top">
                      <object class="GtkSearchBar" id="chat_searchbar">
                        <accessibility>
                          <property name="label" translatable="yes">Chat search bar</property>
                        </accessibility>
                        <property name="search-mode-enabled" bind-source="chat_search_button" bind-property="active" bind-flags="sync-create"/>
                        <child>
                          <object class="GtkSearchEntry">
                            <signal name="search-changed" handler="chat_search_changed"/>
                            <property name="hexpand">true</property>
                            <property name="search-delay">100</property>
                            <property name="placeholder-text" translatable="yes">Search chats</property>
                            <accessibility>
                              <property name="label" translatable="yes">Search chats</property>
                            </accessibility>
                          </object>
                        </child>
                      </object>
                    </child>
                    <property name="content">
                      <object class="GtkStack" id="chat_list_stack">
                        <property name="transition_duration">100</property>
                        <property name="transition_type">1</property>
                        <child>
                          <object class="GtkStackPage">
                            <property name="name">content</property>
                            <property name="child">
                              <object class="GtkScrolledWindow" id="chat_list_container">
                                <property name="vexpand">true</property>
                                <property name="hexpand">true</property>
                                <property name="child">
                                  <object class="GtkListBox" id="chat_list_box">
                                    <signal name="row-selected" handler="chat_changed"/>
                                    <property name="selection-mode">1</property>
                                    <style>
                                      <class name="navigation-sidebar"/>
                                    </style>
                                  </object>
                                </property>
                              </object>
                            </property>
                          </object>
                        </child>
                        <child>
                          <object class="GtkStackPage">
                            <property name="name">no-results</property>
                            <property name="child">
                              <object class="AdwStatusPage">
                                <property name="icon-name">sad-computer-symbolic</property>
                                <property name="title" translatable="yes">No Chats Found</property>
                                <property name="description" translatable="yes">Oh no! It looks like there are no chats found for your search.</property>
                              </object>
                            </property>
                          </object>
                        </child>
                      </object>
                    </property>
                  </object>
                </property>
                <child>
                  <object class="AdwToolbarView">
                    <property name="height-request">140</property>
                    <child type="top">
                      <object class="AdwHeaderBar">
                        <child type="start">
                          <object class="GtkToggleButton" id="show_sidebar_button">
                            <property name="icon-name">sidebar-show-symbolic</property>
                            <property name="tooltip-text" translatable="yes">Toggle Sidebar</property>
                            <property name="active" bind-source="split_view_overlay" bind-property="show-sidebar" bind-flags="sync-create"/>
                          </object>
                        </child>
                        <child type="start">
                          <object class="GtkToggleButton" id="message_search_button">
                            <property name="icon-name">edit-find-symbolic</property>
                            <property name="tooltip-text" translatable="yes">Search Messages</property>
                            <property name="active" bind-source="message_searchbar" bind-property="search-mode-enabled" bind-flags="sync-create"/>
                          </object>
                        </child>
                        <child type="title">
                          <object class="GtkStack" id="title_stack">
                            <property name="transition_duration">100</property>
                            <property name="transition_type">1</property>
                            <child>
                              <object class="GtkStackPage">
                                <property name="name">loading</property>
                                <property name="child">
                                  <object class="AdwSpinner">
                                    <style>
                                      <class name="p10"/>
                                    </style>
                                  </object>
                                </property>
                              </object>
                            </child>
                            <child>
                              <object class="GtkStackPage">
                                <property name="name">no-models</property>
                                <property name="child">
                                  <object class="GtkButton" id="title_no_model_button">
                                    <property name="child">
                                      <object class="AdwButtonContent">
                                        <property name="label" translatable="yes">Add Models</property>
                                        <property name="icon-name">brain-augemnted-symbolic</property>
                                      </object>
                                    </property>
                                    <property name="tooltip-text" translatable="yes">Manage Models</property>
                                    <property name="action-name">app.model_manager</property>
                                    <property name="halign">3</property>
                                  </object>
                                </property>
                              </object>
                            </child>
                            <child>
                              <object class="GtkStackPage">
                                <property name="name">model-selector</property>
                                <property name="child">
                                  <object class="GtkBox">
                                    <property name="halign">3</property>
                                    <child>
                                      <object class="GtkButton">
                                        <property name="icon-name">brain-augemnted-symbolic</property>
                                        <property name="tooltip-text" translatable="yes">Manage Models</property>
                                        <property name="action-name">app.model_manager</property>
                                        <style>
                                          <class name="flat"/>
                                        </style>
                                      </object>
                                    </child>
                                    <child>
                                      <object class="GtkDropDown" id="model_dropdown"/>
                                    </child>
                                  </object>
                                </property>
                              </object>
                            </child>
                          </object>
                        </child>
                        <child type="end">
                          <object class="GtkMenuButton">
                            <property name="primary">False</property>
                            <property name="icon-name">view-more-symbolic</property>
                            <property name="tooltip-text" translatable="yes">Chat Menu</property>
                            <property name="menu-model">secondary_menu</property>
                          </object>
                        </child>
                      </object>
                    </child>
                    <child type="top">
                      <object class="AdwClamp">
                        <property name="maximum-size">1000</property>
                        <property name="tightening-threshold">800</property>
                        <child>
                          <object class="GtkSearchBar" id="message_searchbar">
                            <accessibility>
                              <property name="label" translatable="yes">Message search bar</property>
                            </accessibility>
                            <property name="search-mode-enabled" bind-source="message_search_button" bind-property="active" bind-flags="sync-create"/>
                            <property name="key-capture-widget">AlpacaWindow</property>
                            <child>
                              <object class="GtkSearchEntry" id="searchentry_messages">
                                <signal name="search-changed" handler="message_search_changed"/>
                                <property name="hexpand">true</property>
                                <property name="search-delay">200</property>
                                <property name="placeholder-text" translatable="yes">Search messages</property>
                                <accessibility>
                                  <property name="label" translatable="yes">Search messages</property>
                                </accessibility>
                              </object>
                            </child>
                          </object>
                        </child>
                      </object>
                    </child>
                    <property name="content">
                      <object class="GtkBox">
                        <property name="orientation">1</property>
                        <property name="vexpand">true</property>
                        <property name="hexpand">true</property>
                        <child>
                          <object class="AdwBanner" id="banner">
                            <property name="button-label" translatable="true">Close</property>
                            <property name="title" translatable="yes">Warning: Power saver mode is enabled, this will slow down message generation</property>
                          </object>
                        </child>
                        <child>
                          <object class="GtkBox">
                            <property name="orientation">1</property>
                            <child>
                              <object class="AdwToastOverlay" id="toast_overlay">
                                <child>
                                  <object class="AdwBin" id="chat_bin">
                                    <property name="hexpand">true</property>
                                    <property name="vexpand">true</property>
                                  </object>
                                </child>
                              </object>
                            </child>
                            <child>
                              <object class="AdwClamp" id="global_footer_container">
                                <property name="maximum-size">1000</property>
                                <property name="tightening-threshold">800</property>
                              </object>
                            </child>
                          </object>
                        </child>
                      </object>
                    </property>
                  </object>
                </child>
              </object>
            </property>
          </object>
        </child>
        <child>
          <object class="AdwNavigationPage">
            <property name="title" translatable="yes">Instance Manager</property>
            <property name="tag">instance_manager</property>
            <property name="child">
              <object class="AdwToolbarView">
                <child type="top">
                  <object class="AdwHeaderBar"/>
                </child>
                <property name="content">
                  <object class="GtkStack" id="instance_manager_stack">
                    <child>
                      <object class="GtkStackPage">
                        <property name="name">no-instances</property>
                        <property name="child">
                          <object class="AdwStatusPage">
                            <property name="icon-name">sad-computer-symbolic</property>
                            <property name="title" translatable="yes">No Instances Found</property>
                            <property name="description" translatable="yes">It looks a bit empty in here. Try adding an instance get started!</property>
                            <property name="child">
                              <object class="GtkButton">
                                <property name="tooltip-text" translatable="yes">Add Instance</property>
                                <signal name="clicked" handler="add_instance"/>
                                <property name="halign">3</property>
                                <style>
                                  <class name="pill"/>
                                  <class name="suggested-action"/>
                                </style>
                                <property name="child">
                                  <object class="AdwButtonContent">
                                    <property name="icon-name">list-add-symbolic</property>
                                    <property name="label" translatable="yes">Add Instance</property>
                                  </object>
                                </property>
                              </object>
                            </property>
                          </object>
                        </property>
                      </object>
                    </child>
                    <child>
                      <object class="GtkStackPage">
                        <property name="name">content</property>
                        <property name="child">
                          <object class="AdwPreferencesPage" id="instance_preferences_page">
                            <child>
                              <object class="AdwPreferencesGroup">
                                <property name="title" translatable="yes">Added Instances</property>
                                <property name="description" translatable="yes">Manage your AI instances, chats and messages are shared between instances when generating responses.</property>
                                <property name="header-suffix">
                                  <object class="GtkButton">
                                    <property name="icon-name">list-add-symbolic</property>
                                    <property name="valign">3</property>
                                    <property name="tooltip-text" translatable="yes">Add Instance</property>
                                    <signal name="clicked" handler="add_instance"/>
                                    <style>
                                      <class name="flat"/>
                                    </style>
                                  </object>
                                </property>
                                <child>
                                  <object class="GtkListBox" id="instance_listbox">
                                    <property name="selection-mode">single</property>
                                    <signal name="row-selected" handler="instance_changed"/>
                                    <signal name="unselect-all" handler="instance_changed"/>
                                    <style>
                                      <class name="boxed-list"/>
                                    </style>
                                  </object>
                                </child>
                              </object>
                            </child>
                          </object>
                        </property>
                      </object>
                    </child>
                  </object>
                </property>
              </object>
            </property>
          </object>
        </child>
        <child>
          <object class="AdwNavigationPage">
            <property name="title" translatable="yes">Tool Manager</property>
            <property name="tag">tool_manager</property>
            <property name="child">
              <object class="AdwToolbarView">
                <child type="top">
                  <object class="AdwHeaderBar"/>
                </child>
                <property name="content">
                  <object class="AdwPreferencesPage">
                    <child>
                      <object class="AdwPreferencesGroup">
                        <property name="title" translatable="yes">Available Tools</property>
                        <property name="description" translatable="yes">Functions that AI models might use when sending a message by selecting "Use Tools" in the send button context menu.</property>
                        <child>
                          <object class="GtkListBox" id="tool_listbox">
                            <property name="selection-mode">0</property>
                            <style>
                              <class name="boxed-list"/>
                            </style>
                          </object>
                        </child>
                      </object>
                    </child>
                  </object>
                </property>
              </object>
            </property>
          </object>
        </child>
        <child>
          <object class="AdwNavigationPage">
            <property name="title" translatable="yes">Model Manager</property>
            <property name="tag">model_manager</property>
            <property name="child">
              <object class="AdwToolbarView">
                <property name="height-request">140</property>
                <child type="top">
                  <object class="AdwHeaderBar" id="model_manager_header_bar">
                    <child type="start">
                      <object class="GtkToggleButton" id="model_search_button">
                        <property name="icon-name">edit-find-symbolic</property>
                        <property name="tooltip-text" translatable="yes">Search Model</property>
                        <property name="active" bind-source="model_searchbar" bind-property="search-mode-enabled" bind-flags="sync-create"/>
                      </object>
                    </child>
                    <property name="title-widget">
                      <object class="AdwViewSwitcher" id="model_manager_top_view_switcher">
                        <property name="stack">model_manager_stack</property>
                        <property name="policy">wide</property>
                      </object>
                    </property>
                    <child type="end">
                      <object class="GtkMenuButton">
                        <property name="primary">False</property>
                        <property name="icon-name">view-more-symbolic</property>
                        <property name="tooltip-text" translatable="yes">Model Manager Menu</property>
                        <property name="menu-model">model_manager_menu</property>
                      </object>
                    </child>
                  </object>
                </child>
                <child type="top">
                  <object class="AdwClamp">
                    <property name="maximum-size">1000</property>
                    <property name="tightening-threshold">800</property>
                    <child>
                      <object class="GtkSearchBar" id="model_searchbar">
                        <accessibility>
                          <property name="label" translatable="yes">Model search bar</property>
                        </accessibility>
                        <property name="search-mode-enabled" bind-source="model_search_button" bind-property="active" bind-flags="sync-create"/>
                        <property name="key-capture-widget">AlpacaWindow</property>
                        <child>
                          <object class="GtkBox">
                            <property name="spacing">10</property>
                            <child>
                              <object class="GtkSearchEntry" id="searchentry_models">
                                <property name="hexpand">true</property>
                                <signal name="search-changed" handler="model_search_changed"/>
                                <property name="search-delay">100</property>
                                <property name="placeholder-text" translatable="yes">Search models</property>
                                <accessibility>
                                  <property name="label" translatable="yes">Search models</property>
                                </accessibility>
                              </object>
                            </child>
                            <child>
                              <object class="GtkMenuButton" id="model_filter_button">
                                <property name="icon-name">funnel-symbolic</property>
                                <property name="tooltip-text" translatable="yes">Filter Models</property>
                                <property name="visible">false</property>
                              </object>
                            </child>
                          </object>
                        </child>
                      </object>
                    </child>
                  </object>
                </child>
                <property name="content">
                  <object class="AdwViewStack" id="model_manager_stack">
                    <property name="enable-transitions">true</property>
                    <signal name="notify::visible-child" handler="model_manager_stack_changed"/>
                    <child>
                      <object class="AdwViewStackPage">
                        <property name="name">added_models</property>
                        <property name="title" translatable="yes">Added</property>
                        <property name="icon-name">folder-download-symbolic</property>
                        <property name="child">
                          <object class="GtkStack" id="local_model_stack">
                            <child>
                              <object class="GtkStackPage">
                                <property name="name">no-models</property>
                                <property name="child">
                                  <object class="AdwStatusPage">
                                    <property name="icon-name">sad-computer-symbolic</property>
                                    <property name="title" translatable="yes">No Models Found</property>
                                    <property name="description" translatable="yes">It looks a bit empty in here. Try downloading some models or change your AI instance to get started!</property>
                                    <property name="child">
                                      <object class="GtkButton">
                                        <property name="tooltip-text" translatable="yes">Manage Instances</property>
                                        <property name="action-name">app.instance_manager</property>
                                        <property name="halign">3</property>
                                        <style>
                                          <class name="pill"/>
                                          <class name="suggested-action"/>
                                        </style>
                                        <property name="child">
                                          <object class="AdwButtonContent">
                                            <property name="icon-name">processor-symbolic</property>
                                            <property name="label" translatable="yes">Manage Instances</property>
                                          </object>
                                        </property>
                                      </object>
                                    </property>
                                  </object>
                                </property>
                              </object>
                            </child>
                            <child>
                              <object class="GtkStackPage">
                                <property name="name">content</property>
                                <property name="child">
                                  <object class="GtkScrolledWindow">
                                    <property name="child">
                                      <object class="AdwClamp">
                                        <property name="maximum-size">1000</property>
                                        <property name="tightening-threshold">800</property>
                                        <child>
                                          <object class="GtkFlowBox" id="local_model_flowbox">
                                            <property name="row-spacing">0</property>
                                            <property name="column-spacing">0</property>
                                            <property name="hexpand">true</property>
                                            <property name="valign">1</property>
                                            <property name="min-children-per-line">1</property>
                                            <property name="max-children-per-line">3</property>
                                            <property name="selection-mode">0</property>
                                            <property name="homogeneous">true</property>
                                            <style>
                                              <class name="p10"/>
                                            </style>
                                          </object>
                                        </child>
                                      </object>
                                    </property>
                                  </object>
                                </property>
                              </object>
                            </child>
                            <child>
                              <object class="GtkStackPage">
                                <property name="name">no-results</property>
                                <property name="child">
                                  <object class="AdwStatusPage">
                                    <property name="icon-name">sad-computer-symbolic</property>
                                    <property name="title" translatable="yes">No Models Found</property>
                                    <property name="description" translatable="yes">Looks like we’re fresh out of models for that search. Try tweaking your keywords, or maybe explore something new!</property>
                                  </object>
                                </property>
                              </object>
                            </child>
                          </object>
                        </property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwViewStackPage" id="available_models_stack_page">
                        <property name="name">available_models</property>
                        <property name="title" translatable="yes">Available</property>
                        <property name="icon-name">globe-symbolic</property>
                        <property name="child">
                          <object class="GtkStack" id="available_model_stack">
                            <child>
                              <object class="GtkStackPage">
                                <property name="name">content</property>
                                <property name="child">
                                  <object class="GtkScrolledWindow">
                                    <property name="child">
                                      <object class="AdwClamp">
                                        <property name="maximum-size">1000</property>
                                        <property name="tightening-threshold">800</property>
                                        <child>
                                          <object class="GtkFlowBox" id="available_model_flowbox">
                                            <property name="row-spacing">0</property>
                                            <property name="column-spacing">0</property>
                                            <property name="hexpand">true</property>
                                            <property name="valign">1</property>
                                            <property name="min-children-per-line">2</property>
                                            <property name="max-children-per-line">3</property>
                                            <property name="selection-mode">0</property>
                                            <style>
                                              <class name="p10"/>
                                            </style>
                                          </object>
                                        </child>
                                      </object>
                                    </property>
                                  </object>
                                </property>
                              </object>
                            </child>
                            <child>
                              <object class="GtkStackPage">
                                <property name="name">no-results</property>
                                <property name="child">
                                  <object class="AdwStatusPage">
                                    <property name="icon-name">sad-computer-symbolic</property>
                                    <property name="title" translatable="yes">No Models Found</property>
                                    <property name="description" translatable="yes">Looks like we’re fresh out of models for that search. Try tweaking your keywords, or maybe explore something new!</property>
                                  </object>
                                </property>
                              </object>
                            </child>
                          </object>
                        </property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwViewStackPage"  id="model_creator_stack_page">
                        <property name="name">model_creator</property>
                        <property name="title" translatable="yes">Creator</property>
                        <property name="icon-name">brain-augemnted-symbolic</property>
                        <property name="child">
                          <object class="AdwStatusPage">
                            <property name="hexpand">true</property>
                            <property name="title" translatable="yes">Model Creator</property>
                            <property name="description" translatable="yes">Select a method of importing a model to continue</property>
                            <property name="icon-name">brain-augemnted-symbolic</property>
                            <property name="child">
                              <object class="GtkBox">
                                <property name="halign">3</property>
                                <property name="spacing">10</property>
                                <child>
                                  <object class="GtkButton">
                                    <signal name="clicked" handler="model_creator_gguf"/>
                                    <property name="child">
                                      <object class="AdwButtonContent">
                                        <property name="icon-name">document-open-symbolic</property>
                                        <property name="label" translatable="yes">GGUF File</property>
                                      </object>
                                    </property>
                                  </object>
                                </child>
                                <child>
                                  <object class="GtkButton">
                                    <signal name="clicked" handler="model_creator_existing"/>
                                    <property name="child">
                                      <object class="AdwButtonContent">
                                        <property name="icon-name">chain-link-loose-symbolic</property>
                                        <property name="label" translatable="yes">Existing Model</property>
                                      </object>
                                    </property>
                                  </object>
                                </child>
                              </object>
                            </property>
                          </object>
                        </property>
                      </object>
                    </child>
                  </object>
                </property>
                <child type="bottom">
                  <object class="AdwViewSwitcherBar" id="model_manager_bottom_view_switcher">
                    <property name="stack">model_manager_stack</property>
                  </object>
                </child>
              </object>
            </property>
          </object>
        </child>
      </object>
    </property>
    <object class="AdwPreferencesDialog" id="preferences_dialog">
      <property name="can-close">true</property>
      <property name="title" translatable="yes">Preferences</property>
      <child>
        <object class="AdwPreferencesPage" id="general_page">
          <child>
            <object class="AdwPreferencesGroup">
              <child>
                <object class="AdwSwitchRow" id="background_switch">
                  <property name="title" translatable="yes">Run Alpaca In Background</property>
                  <property name="active" bind-source="AlpacaWindow" bind-property="hide-on-close" bind-flags="bidirectional"/>
                </object>
              </child>
              <child>
                <object class="AdwSwitchRow" id="powersaver_warning_switch">
                  <property name="title" translatable="yes">Show Power Saver Warning</property>
                  <property name="subtitle" translatable="yes">When running a managed Ollama instance</property>
                </object>
              </child>
              <child>
                <object class="AdwSpinRow" id="zoom_spin">
                  <signal name="output" handler="zoom_changed"/>
                  <property name="title" translatable="yes">Zoom</property>
                  <property name="adjustment">
                    <object class="GtkAdjustment">
                      <property name="lower">100</property>
                      <property name="upper">200</property>
                      <property name="step-increment">10</property>
                    </object>
                  </property>
                </object>
              </child>
            </object>
          </child>
          <child>
            <object class="AdwPreferencesGroup" id="mic_group">
              <child>
                <object class="AdwComboRow" id="mic_model_combo">
                  <property name="title" translatable="yes">Speech Recognition Model</property>
                  <property name="subtitle" translatable="yes">Models are downloaded upon first use, you can delete them from the model manager</property>
                </object>
              </child>
              <child>
                <object class="AdwComboRow" id="mic_language_combo">
                  <property name="title" translatable="yes">Speech Recognition Language</property>
                  <property name="sensitive">false</property>
                </object>
              </child>
              <child>
                <object class="AdwSwitchRow" id="mic_auto_send_switch">
                  <property name="title" translatable="yes">Auto Send Message After Talking</property>
                  <property name="sensitive">false</property>
                </object>
              </child>
            </object>
          </child>
          <child>
            <object class="AdwPreferencesGroup" id="tts_group">
              <child>
                <object class="AdwComboRow" id="tts_voice_combo">
                  <property name="title" translatable="yes">Default Text to Speech Voice</property>
                  <property name="subtitle" translatable="yes">Voices are downloaded upon first use, each weighing around 1 MB, and you can delete them from the model manager</property>
                </object>
              </child>
              <child>
                <object class="AdwSwitchRow" id="tts_auto_mode_combo">
                  <property name="title" translatable="yes">Dictate New Messages Automatically</property>
                  <property name="subtitle" translatable="yes">Dictate new messages as they are generated</property>
                </object>
              </child>
            </object>
          </child>
          <child>
            <object class="AdwPreferencesGroup">
              <child>
                <object class="AdwButtonRow">
                  <style>
                    <class name="destructive-action"/>
                  </style>
                  <property name="title" translatable="yes">Delete All Chats</property>
                  <property name="action-name">app.delete_all_chats</property>
                </object>
              </child>
            </object>
          </child>
        </object>
      </child>
    </object>

    <object class="AdwDialog" id="notice_dialog">
      <property name="name">Alpaca7</property>
      <property name="title" translatable="yes">Notice</property>
      <property name="content-width">400</property>
      <signal name="closed" handler="closing_notice"/>
      <child>
        <object class="AdwToolbarView">
          <child type="top">
            <object class="AdwHeaderBar"/>
          </child>
          <property name="content">
            <object class="AdwCarousel" id="notice_carousel">
              <property name="hexpand">true</property>
              <property name="vexpand">true</property>
              <property name="allow-long-swipes">true</property>
              <property name="allow-scroll-wheel">true</property>
              <property name="spacing">12</property>
              <child>
                <object class="AdwStatusPage">
                  <property name="hexpand">true</property>
                  <property name="icon-name">com.jeffser.Alpaca</property>
                  <property name="title">Alpaca 7</property>
                  <property name="description" translatable="yes">Hey Alpaca users! Get ready for a huge update packed with enhancements and exciting new features designed to make your experience even better.</property>
                </object>
              </child>
              <child>
                <object class="AdwStatusPage">
                  <property name="hexpand">true</property>
                  <property name="icon-name">audio-input-microphone-symbolic</property>
                  <property name="title" translatable="yes">Introducing Live Chat</property>
                  <property name="description" translatable="yes">Experience a whole new way to interact with your AI models! Live Chat lets you converse as if you're on a call, with a strong focus on real-time speech recognition and live message dictation. Access it easily by selecting "Live Chat" from the primary menu.</property>
                </object>
              </child>
              <child>
                <object class="AdwStatusPage">
                  <property name="hexpand">true</property>
                  <property name="icon-name">chat-bubble-text-symbolic</property>
                  <property name="title" translatable="yes">Live Message Rendering</property>
                  <property name="description" translatable="yes">See your conversations unfold in real-time! Messages are now rendered as they're being generated, and you can even use dictation simultaneously for a more fluid interaction.</property>
                </object>
              </child>
              <child>
                <object class="AdwStatusPage">
                  <property name="hexpand">true</property>
                  <property name="icon-name">camera-photo-symbolic</property>
                  <property name="title" translatable="yes">Camera Attachment</property>
                  <property name="description" translatable="yes">You can now take pictures directly within Alpaca and attach them to your messages with the new Camera Attachment feature.</property>
                </object>
              </child>
              <child>
                <object class="AdwStatusPage">
                  <property name="hexpand">true</property>
                  <property name="icon-name">wrench-wide-symbolic</property>
                  <property name="title" translatable="yes">Enhanced Web Search Tool</property>
                  <property name="description" translatable="yes">Our Web Search Tool just got a major upgrade! Enjoy more accurate results and powerful new options to find exactly what you're looking for.</property>
                </object>
              </child>
              <child>
                <object class="AdwStatusPage">
                  <property name="hexpand">true</property>
                  <property name="icon-name">sliders-horizontal-symbolic</property>
                  <property name="title" translatable="yes">Redesign</property>
                  <property name="description" translatable="yes">Alpaca has a brand new look! Enjoy a redesigned interface with updated popups and sleek new dialogs for managing your AI instances and tools.</property>
                </object>
              </child>
            </object>
          </property>
          <child type="bottom">
            <object class="AdwCarouselIndicatorDots">
              <style>
                <class name="p10"/>
              </style>
              <property name="carousel">notice_carousel</property>
            </object>
          </child>
        </object>
      </child>
    </object>
  </template>
  <menu id="new_chat_menu">
    <section>
      <item>
        <attribute name="label" translatable="yes">New Chat</attribute>
        <attribute name="action">app.new_chat</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">New Notebook</attribute>
        <attribute name="action">app.new_notebook</attribute>
      </item>
    </section>
  </menu>
  <menu id="primary_menu">
    <section>
      <item>
        <attribute name="label" translatable="yes">Import Chat</attribute>
        <attribute name="action">app.import_chat</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Manage Instances</attribute>
        <attribute name="action">app.instance_manager</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Manage Models</attribute>
        <attribute name="action">app.model_manager</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Manage Tools</attribute>
        <attribute name="action">app.tool_manager</attribute>
      </item>
    </section>
    <section>
      <item>
        <attribute name="label" translatable="yes">Start Quick Ask</attribute>
        <attribute name="action">app.start_quick_ask</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Start Live Chat</attribute>
        <attribute name="action">app.start_live_chat</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Preferences</attribute>
        <attribute name="action">app.preferences</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Keyboard Shortcuts</attribute>
        <attribute name="action">win.show-help-overlay</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">About Alpaca</attribute>
        <attribute name="action">app.about</attribute>
      </item>
    </section>
  </menu>
  <menu id="secondary_menu">
    <section>
      <item>
        <attribute name="label" translatable="yes">Rename Chat</attribute>
        <attribute name="action">app.rename_current_chat</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Duplicate Chat</attribute>
        <attribute name="action">app.duplicate_current_chat</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Export Chat</attribute>
        <attribute name="action">app.export_current_chat</attribute>
      </item>
    </section>
    <section>
      <item>
        <attribute name="label" translatable="yes">Delete Chat</attribute>
        <attribute name="action">app.delete_current_chat</attribute>
      </item>
    </section>
  </menu>
  <menu id="model_manager_menu">
    <section>
      <item>
        <attribute name="label" translatable="yes">Reload Added Models</attribute>
        <attribute name="action">app.reload_added_models</attribute>
      </item>
      <item>
        <attribute name="label" translatable="yes">Download Model From Name</attribute>
        <attribute name="action">app.download_model_from_name</attribute>
      </item>
    </section>
  </menu>
  <object class="GtkFileFilter" id="file_filter_db">
    <mime-types>
      <mime-type>application/vnd.sqlite3</mime-type>
    </mime-types>
  </object>
</interface>



